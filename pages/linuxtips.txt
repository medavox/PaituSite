===== General Linux Usability Tips =====

These are various bash commands and tricks I've accumulated, which help in the day-to-day usage of my linux laptop.


====Sort files and folders in the current directory by size, human readably====
<code> du -ahd 1 | sort h </code>

This will print out the largest file and folders in the current directory, with the largest at the bottom (closest to the prompt)
NOTE: If this doesn't work, then it's because the ''-d'' option was only introduced to ''du'' after debian 6. Try <code>--max-depth=1</code> instead.


====Search APT Currently Installed packages====
<code>dpkg --get-selections | grep -i <searchterm></code>

This will search (case-insensitive) your locally installed apt packages for any containing the string <searchterm>.


====Get more info on a package====
<code>apt-cache show <exact package name></code>

Gives you a bunch more info than just the name (hopefully including a short description) of the named package.

====Search all available packages====
<code>apt-cache search <searchterm></code>

Beware, this can give a lot of results.

====Play videos fullscreen on commandline using mplayer====
<code>screenwidth=<your screen width>; mplayer -nosound -vo fbdev -xy $screenwidth -zoom <video file></code>

Doesn't bother with sound, because I haven't worked out how to just run a sound server without an X server yet, and there's no need to waste system resources playing something you can't hear.

====Losslessly Extract Audio from an MP4 using FFMPEG====
<code>ffmpeg -i <infile> -vn -acodec copy <outfile>.mp4</code>

Extracts the audio from an MP4 videon without transcoding of any kind. Avoids any loss of audio quality.

This command will probably need to be revisited and changed, following ffmpeg's upheaval, name change, etc. But for now it still works, even with deprecated warnings.

UPDATE:

here's the new version of the command, for us with libAV (the fork of ffmpeg adopted by all distros I use):

<code>avconv -i <infile> -vn -acodec copy <outfile>.mp4</code>

Yes, it's exactly the same. Panic over.

{{tag>linux apt debian ubuntu bash commandline server}}